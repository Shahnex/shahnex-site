<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>شحن إكس | شحن ذكي بأسعار تنافسية</title>
  <meta name="description" content="شحن إكس — شحن ذكي بأسعار تنافسية بين المدن، مع سائق خاص، وخدمة مندوب داخل المدينة.">
  <link rel="canonical" href="https://www.shahnex.com/">
  <meta name="theme-color" content="#00A76F">
  <style>
    :root {
      --nav-height: 64px; /* عدّل الارتفاع حسب رغبتك: 56px/64px/72px */
    }

    *,
    *::before,
    *::after { box-sizing: border-box; }

    body {
      font-family: "Cairo", system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:#F5F7FA; color:#1E1E24; margin:0; line-height:1.6;
      animation: fadeIn 0.6s ease both;
    }

    header, main, footer {max-width:1024px; margin:auto; padding:16px;}
    header.hero {
      display:grid; gap:12px; padding:24px; background:#fff;
      border-radius:12px; border:1px solid #eaeaea;
      animation: slideUp 0.8s ease both;
      margin-top: calc(var(--nav-height) + 8px); /* تعويض الهيدر الثابت */
    }
    .services {display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(240px,1fr));}
    .card {background:#fff; border:1px solid #eaeaea; border-radius:12px; padding:16px; animation: fadeInUp 0.8s ease both;}
    .card h3 {margin-top:0}
    .btn {display:inline-block; padding:10px 14px; border-radius:10px; text-decoration:none; background:#155EFB; color:#fff; transition:all .3s;}
    .btn:hover {background:#003ee8;}
    .btn-outline {background:#00A76F;}
    form {background:#fff; border:1px solid #eaeaea; border-radius:12px; padding:16px; display:grid; gap:10px}
    input, select, textarea {width:100%; padding:10px; border:1px solid #ddd; border-radius:8px; font-family:inherit}
    label {display:block; font-weight:600; margin-bottom:6px}
    .routes ul {margin:0; padding:0 18px}
    .muted {color:#555}
    .row {display:grid; gap:10px; grid-template-columns: repeat(auto-fit, minmax(180px,1fr));}
    small.hint {color:#666}

    /* ========== الهيدر الثابت والشعار (إصدار ثابت ومضمون) ========== */
    nav {
      position: fixed;
      top: 0;
      inset-inline: 0;    /* يمين ويسار */
      z-index: 1000;
      background: #fff;
      border-bottom: 1px solid #eaeaea;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      /* لا تستخدم أي animation/transform هنا */
    }
    nav .nav-inner {
      max-width: 1024px;
      margin: auto;
      padding: 8px 16px;
      min-height: var(--nav-height);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      direction: rtl; /* تأكيد RTL */
    }
    .logo {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      line-height: 0; /* يمنع تمدد الارتفاع بسبب SVG */
    }
    .logo a {
      display: inline-flex;
      align-items: center;
      text-decoration: none;
    }
    .logo svg {
      display: block;
      height: 40px;  /* يمكنك تعديلها 36–44 */
      width: auto;
      max-width: 100%;
    }
    .nav-links {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      line-height: 1;
    }
    .nav-links a {
      color: #155EFB;
      font-weight: 600;
      text-decoration: none;
      transition: color .3s;
      white-space: nowrap;
    }
    .nav-links a:hover { color: #003ee8; }

    /* حركات خفيفة للمحتوى (ليست على nav) */
    @keyframes fadeIn {from{opacity:0;} to{opacity:1;}}
    @keyframes slideUp {from{opacity:0; transform:translateY(12px);} to{opacity:1; transform:translateY(0);}}
    @keyframes fadeInUp {from{opacity:0; transform:translateY(6px);} to{opacity:1; transform:translateY(0);}}
  </style>
</head>

<body>
  <nav aria-label="رأس الموقع">
    <div class="nav-inner">
      <div class="logo">
        <a href="/" aria-label="شحن إكس — الصفحة الرئيسية">
          <!-- شعار SVG -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 220 60" width="180" height="48" role="img" aria-label="شحن إكس | SHAHN X">
            <defs>
              <linearGradient id="gradX" x1="0%" y1="100%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#0B2D45"/>
                <stop offset="100%" stop-color="#FF8A00"/>
              </linearGradient>
              <style>
                .ar {font-family:'Cairo',sans-serif;font-weight:700;fill:#0B2D45;font-size:18px}
                .en {font-family:'Verdana',sans-serif;font-weight:700;fill:#0B2D45;font-size:9px}
              </style>
            </defs>
            <g transform="translate(5,5)">
              <path d="M10 45 C 20 20, 50 10, 80 25" fill="none" stroke="url(#gradX)" stroke-width="6" stroke-linecap="round"/>
              <path d="M90 15 L105 45 L120 15 Z" fill="url(#gradX)" />
            </g>
            <text class="ar" x="210" y="25" text-anchor="end" direction="rtl">شحن إكس</text>
            <text class="en" x="210" y="40" text-anchor="end">SHAHN X</text>
          </svg>
        </a>
      </div>
      <div class="nav-links">
        <a href="#quote">عرض سعر</a>
        <a href="#join">انضم إلينا</a>
        <a data-wa target="_blank" rel="noopener">واتساب</a>
      </div>
    </div>
  </nav>

  <header class="hero">
    <h1>شحن إكس — شحن ذكي بأسعار تنافسية</h1>
    <p class="muted">3 خيارات: شركة الشحن، السائق الخاص، ومندوب داخل المدينة للاستلام أو التسليم.</p>
    <div>
      <a class="btn" href="#quote">اطلب عرض سعر</a>
      <a class="btn btn-outline" data-wa target="_blank" rel="noopener">تواصل عبر واتساب</a>
    </div>
  </header>

  <main>
    <!-- المسارات -->
    <section class="card routes">
      <h2>المسارات</h2>
      <ul>
        <li>الرياض ↔ جدة</li>
        <li>الرياض ↔ الدمام</li>
        <li>الرياض ↔ خميس مشيط</li>
        <li>الرياض ↔ الأحساء</li>
      </ul>
    </section>

    <!-- الخدمات -->
    <section class="services">
      <div class="card">
        <h3>شركة الشحن</h3>
        <p>تنسيق شحنتك مع شركاء موثوقين بين المدن.</p>
      </div>
      <div class="card">
        <h3>السائق الخاص</h3>
        <p>نقل مباشر ومرن حسب احتياجك.</p>
      </div>
      <div class="card">
        <h3>مندوب داخل المدينة</h3>
        <p>استلام من موقعك إلى المستودع/شركة الشحن (First-mile) أو تسليم من المستودع إلى عميل الوجهة (Last-mile).</p>
        <a class="btn" href="#quote">طلب خدمة المندوب</a>
      </div>
    </section>

    <!-- طلب عرض سعر -->
    <section id="quote" class="card">
      <h2>طلب عرض سعر</h2>
      <form action="https://formspree.io/f/mjkaaazd" method="POST" accept-charset="UTF-8">
        <input type="hidden" name="_subject" value="Quote Request (AR)">
        <input type="hidden" name="_redirect" value="/thanks.html">
        <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off">

        <div class="row">
          <div>
            <label>الاسم الكامل</label>
            <input type="text" name="full_name" placeholder="الاسم الكامل" required>
          </div>
          <!-- تمت إزالة البريد الإلكتروني حسب طلبك -->
          <div>
            <label>رقم الجوال</label>
            <input type="tel" name="phone" placeholder="9665xxxxxxxx" required>
          </div>
        </div>

        <div class="row">
          <div>
            <label>نوع الخدمة</label>
            <select name="service_type" required>
              <option value="">اختر</option>
              <option>شركة الشحن</option>
              <option>سائق خاص</option>
              <option>مندوب داخل المدينة</option>
            </select>
          </div>
          <div>
            <label>من مدينة</label>
            <select name="from_city" required>
              <option value="">اختر</option>
              <option>الرياض</option><option>جدة</option><option>الدمام</option><option>الأحساء</option><option>خميس مشيط</option>
            </select>
          </div>
          <div>
            <label>إلى مدينة</label>
            <select name="to_city" required>
              <option value="">اختر</option>
              <option>الرياض</option><option>جدة</option><option>الدمام</option><option>الأحساء</option><option>خميس مشيط</option>
            </select>
          </div>
        </div>

        <!-- طريقة التسليم العامة -->
        <div>
          <label>طريقة التسليم</label>
          <div>
            <label><input type="radio" name="pickup_option" value="from_warehouse" checked> تسليم للمستودع</label>
            <label><input type="radio" name="pickup_option" value="pickup_from_location"> مندوب داخل المدينة</label>
          </div>
          <input type="hidden" name="tag" id="pickupTag" value="">
        </div>

        <!-- نوع خدمة المندوب داخل المدينة -->
        <div id="cityAgentModeWrap" style="display:none; margin-top:8px">
          <label>خدمة المندوب داخل المدينة</label>
          <div>
            <label><input type="radio" name="city_agent_mode" value="first_mile" checked> من موقعي → المستودع/شركة الشحن</label>
            <label><input type="radio" name="city_agent_mode" value="last_mile"> من المستودع/شركة الشحن → عميل الوجهة</label>
          </div>
        </div>

        <!-- First-mile fields -->
        <div id="firstMileFields" style="display:none; margin-top:8px">
          <div class="row">
            <div>
              <label>مدينة الاستلام</label>
              <select name="pickup_city_first">
                <option value="">اختر</option>
                <option>الرياض</option><option>جدة</option><option>الدمام</option><option>الأحساء</option><option>خميس مشيط</option>
              </select>
            </div>
            <div>
              <label>العنوان التفصيلي للاستلام</label>
              <input type="text" name="pickup_address_first" placeholder="الحي، الشارع، رقم المبنى">
            </div>
          </div>
          <div class="row">
            <div>
              <label>التاريخ المفضل</label>
              <input type="date" name="pickup_date_first">
            </div>
            <div>
              <label>الوقت المفضل</label>
              <input type="time" name="pickup_time_first">
            </div>
          </div>
          <div>
            <label>تعليمات خاصة (اختياري)</label>
            <textarea name="pickup_notes_first" placeholder="مثال: تواصل قبل الوصول"></textarea>
          </div>
          <small class="hint">خدمة الاستلام متاحة في: الرياض، جدة، الدمام، الأحساء، خميس مشيط. 10:00–20:00.</small>
        </div>

        <!-- Last-mile fields -->
        <div id="lastMileFields" style="display:none; margin-top:8px">
          <div class="row">
            <div>
              <label>مدينة التسليم</label>
              <select name="delivery_city_last">
                <option value="">اختر</option>
                <option>الرياض</option><option>جدة</option><option>الدمام</option><option>الأحساء</option><option>خميس مشيط</option>
              </select>
            </div>
            <div>
              <label>العنوان التفصيلي للتسليم</label>
              <input type="text" name="delivery_address_last" placeholder="الحي، الشارع، رقم المبنى">
            </div>
          </div>
          <div class="row">
            <div>
              <label>اسم المستلم</label>
              <input type="text" name="delivery_contact_name" placeholder="اسم المستلم">
            </div>
            <div>
              <label>جوال المستلم</label>
              <input type="tel" name="delivery_contact_phone" placeholder="9665xxxxxxxx">
            </div>
          </div>
          <div class="row">
            <div>
              <label>التاريخ المفضل</label>
              <input type="date" name="delivery_date_last">
            </div>
            <div>
              <label>الوقت المفضل</label>
              <input type="time" name="delivery_time_last">
            </div>
          </div>
          <div>
            <label>تعليمات خاصة (اختياري)</label>
            <textarea name="delivery_notes_last" placeholder="مثال: تواصل قبل الوصول"></textarea>
          </div>
          <small class="hint">خدمة التسليم متاحة في: الرياض، جدة، الدمام، الأحساء، خميس مشيط. 10:00–20:00.</small>
        </div>

        <div>
          <label>وصف الشحنة</label>
          <textarea name="shipment_desc" placeholder="الوزن التقريبي، الأبعاد، أي تفاصيل مهمة" rows="3" required></textarea>
        </div>

        <button class="btn" type="submit">إرسال الطلب</button>
      </form>
    </section>

    <!-- انضم كشريك نقل -->
    <section id="join" class="card">
      <h2>انضم كشريك نقل</h2>
      <p class="muted">سائق/مورّد بين المدن أو مندوب داخل المدينة.</p>
      <form action="https://formspree.io/f/mzzjjjqd" method="POST" accept-charset="UTF-8">
        <input type="hidden" name="_subject" value="Partner Application (AR)">
        <input type="hidden" name="_redirect" value="/thanks.html">
        <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off">

        <div class="row">
          <div>
            <label>نوع الانضمام</label>
            <select id="roleSelect" required>
              <option value="carrier_driver" selected>سائق/مورّد بين المدن</option>
              <option value="city_agent">مندوب داخل المدينة</option>
            </select>
            <input type="hidden" name="role" id="roleHidden" value="carrier_driver">
          </div>
          <div>
            <label>الاسم الكامل</label>
            <input type="text" name="full_name" placeholder="الاسم الكامل" required>
          </div>
        </div>

        <div class="row">
          <div>
            <label>المدينة</label>
            <select name="city" required>
              <option value="">اختر</option>
              <option>الرياض</option><option>جدة</option><option>الدمام</option><option>الأحساء</option><option>خميس مشيط</option>
            </select>
          </div>
          <div>
            <label>نوع المركبة</label>
            <select name="vehicle" required>
              <option value="">اختر</option>
              <option>دراجة</option><option>سيدان</option><option>فان</option><option>شاحنة صغيرة</option><option>شاحنة</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div>
            <label>التوفّر</label>
            <input type="text" name="availability" placeholder="مثال: 10ص–8م" required>
          </div>
          <div>
            <label>الجوال/واتساب</label>
            <input type="tel" name="phone" placeholder="9665xxxxxxxx" required>
          </div>
        </div>

        <div>
          <label>خبرة سابقة (اختياري)</label>
          <textarea name="experience" placeholder="الشركات/السنوات/المناطق"></textarea>
        </div>

        <button class="btn" type="submit">إرسال</button>
      </form>
    </section>
  </main>

  <footer class="card">
    <p>© شحن إكس | SHAHN X</p>
    <p><a data-wa target="_blank" rel="noopener">تواصل واتساب</a></p>
  </footer>

  <script>
    // توحيد رقم واتساب
    const WHATSAPP_NUM = '966590000819';
    document.querySelectorAll('a[data-wa]').forEach(a => a.href = `https://wa.me/${WHATSAPP_NUM}`);

    // ظل الهيدر عند التمرير (اختياري)
    window.addEventListener('scroll', () => {
      const nav = document.querySelector('nav');
      if (window.scrollY > 20) { nav.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)'; }
      else { nav.style.boxShadow = '0 2px 8px rgba(0,0,0,0.05)'; }
    });

    // تحكم بخدمة المندوب: first-mile / last-mile
    const pickupRadios = document.querySelectorAll('input[name="pickup_option"]');
    const cityAgentWrap = document.getElementById('cityAgentModeWrap');
    const firstMile = document.getElementById('firstMileFields');
    const lastMile = document.getElementById('lastMileFields');
    const tagInput = document.getElementById('pickupTag');

    function setRequiredByNames(names, req) {
      names.forEach(n => {
        const el = document.querySelector(`[name="${n}"]`);
        if (el) el.required = !!req;
      });
    }

    function toggleAll() {
      const selectedPickup = document.querySelector('input[name="pickup_option"]:checked');
      const pickupVal = selectedPickup ? selectedPickup.value : 'from_warehouse';
      const isCityAgent = pickupVal === 'pickup_from_location';

      cityAgentWrap.style.display = isCityAgent ? 'block' : 'none';

      if (!isCityAgent) {
        if (firstMile) firstMile.style.display = 'none';
        if (lastMile) lastMile.style.display = 'none';
        if (tagInput) tagInput.value = '';
        setRequiredByNames([
          'pickup_city_first','pickup_address_first',
          'delivery_city_last','delivery_address_last','delivery_contact_name','delivery_contact_phone'
        ], false);
        return;
      }

      const modeRadio = document.querySelector('input[name="city_agent_mode"]:checked');
      const mode = modeRadio ? modeRadio.value : 'first_mile';

      if (mode === 'first_mile') {
        if (firstMile) firstMile.style.display = 'block';
        if (lastMile) lastMile.style.display = 'none';
        if (tagInput) tagInput.value = 'CITY_PICKUP_FIRST_MILE';
        setRequiredByNames(['pickup_city_first','pickup_address_first'], true);
        setRequiredByNames(['delivery_city_last','delivery_address_last','delivery_contact_name','delivery_contact_phone'], false);
      } else {
        if (firstMile) firstMile.style.display = 'none';
        if (lastMile) lastMile.style.display = 'block';
        if (tagInput) tagInput.value = 'CITY_DELIVERY_LAST_MILE';
        setRequiredByNames(['delivery_city_last','delivery_address_last','delivery_contact_name','delivery_contact_phone'], true);
        setRequiredByNames(['pickup_city_first','pickup_address_first'], false);
      }
    }

    pickupRadios.forEach(r => r.addEventListener('change', toggleAll));
    document.addEventListener('change', (e) => {
      if (e.target && e.target.name === 'city_agent_mode') toggleAll();
    });
    toggleAll();

    // مزامنة الدور hidden مع اختيار نوع الانضمام
    const roleSelect = document.getElementById('roleSelect');
    const roleHidden = document.getElementById('roleHidden');
    if (roleSelect && roleHidden) {
      roleHidden.value = roleSelect.value;
      roleSelect.addEventListener('change', () => roleHidden.value = roleSelect.value);
    }
  </script>
</body>
</html>
